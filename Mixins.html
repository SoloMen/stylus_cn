<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <title>混合书写(Mixins)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/normalize.css" />
  <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="js/responsive-nav.js"></script>
  <script>
    var doc = document, docEl = doc.documentElement;
    docEl.className = docEl.className.replace(/(^|\s)no-js(\s|$)/, " js ");
  </script>
 </head>
 <body>
  <div role="navigation" id="nav">
   <ul>
    <li><a href="index.html">stylus</a></li>
    <li><a href="Selectors.html">选择器</a></li>
    <li><a href="Variables.html">变量</a></li>
    <li><a href="Interpolation.html">插值</a></li>
    <li><a href="Operators.html">运算符</a></li>
    <li class="active"><a href="Mixins.html">混合书写</a></li>
    <li><a href="Functions.html">方法</a></li>
    <li><a href="KeywordArguments.html">关键字参数</a></li>
    <li><a href="Built-in_Functions.html">内置方法</a></li>
    <li><a href="RestParams.html">其余参数</a></li>
    <li><a href="Comments.html">注释</a></li>
    <li><a href="Conditionals.html">条件</a></li>
    <li><a href=Iteration.html>迭代</a></li>
    <li><a href="import.html">@import</a></li>
    <li><a href="media.html">@media</a></li>
    <li><a href="font-face.html">@font-face</a></li>
    <li><a href="keyframes.html">@keyframes</a></li>
    <li><a href="extend.html">@extend</a></li>
    <li><a href="url.html">url()</a></li>
    <li><a href="CSSLiteral.html">CSS字面量</a></li>
    <li><a href="CSSStyleSyntax.html">CSS样式解析</a></li>
    <li><a href="CharEscaping.html">字符转码</a></li>
    <li><a href="Executable.html">可执行性</a></li>
    <li><a href="ErrorReporting.html">错误报告</a></li>
    <li><a href="ConnectMiddleware.html">连接中间件</a></li>
    <li><a href="IntrospectionAPI.html">自检API</a></li>
    <li><a href="JavaScriptAPI.html">JavaScript API</a></li>
    <li><a href="http://github.com/visionmedia/nib">Nib下CSS扩展</a></li>
    <li><a href="http://learnboost.github.com/stylus/try.html">Stylus在线体验!</a></li>
   </ul>
  </div>
  <div class="main">
   <a href="#nav" id="toggle">Menu</a>
   <div id="content">
    <h1>混合书写(Mixins)</h1>
    <h2>混入</h2>
    <p>混入和函数定义方法一致，但是应用却大相径庭。</p>
    <p>例如，下面有定义的<code>border-radius(n)</code>方法，其却作为一个mixin（如，作为状态调用，而非表达式）调用。</p>
    <p>当<code>border-radius()</code>选择器中调用时候，属性会被扩展并复制在选择器中。</p>
    <pre>border-radius(n)
  -webkit-border-radius n
  -moz-border-radius n
  border-radius n

form input[type=button]
  border-radius(5px)</pre>
    <p>编译结果：</p>
    <pre>form input[type=button] {
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
}</pre>
    <p>使用混入书写，你可以完全忽略括号，提供梦幻般私有属性的支持。</p>
    <pre>border-radius(n)
  -webkit-border-radius n
  -moz-border-radius n
  border-radius n

form input[type=button]
  border-radius 5px</pre>
    <p>注意到我们混合书写中的<code>border-radius</code>当作了属性，而不是一个递归函数调用。</p>
    <p>更进一步，我们可以利用<code>arguments</code>这个局部变量，传递可以包含多值的表达式。</p>
    <pre>border-radius()
  -webkit-border-radius arguments
  -moz-border-radius arguments
  border-radius arguments</pre>
    <p>现在，我们可以像这样子传值：<code>border-radius 1px 2px / 3px 4px!</code></p>
    <p>另外一个很赞的应用是特定的私有前缀支持——例如IE浏览器的透明度：</p>
    <pre>support-for-ie ?= true

opacity(n)
  opacity n
  if support-for-ie
    filter unquote('progid:DXImageTransform.Microsoft.Alpha(Opacity=' + round(n * 100) + ')')

#logo
  &#38;:hover
    opacity 0.5</pre>
    <p>编译结果：</p>
    <pre>#logo:hover {
  opacity: 0.5;
  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);
}</pre>
    <h2>父级引用</h2>
    <p>混合书写可以利用父级引用字符&#38;, 继承父业而不是自己筑巢。</p>
    <p>例如，我们要用<code>stripe(even, odd)</code>创建一个条纹表格。even和odd均提供了默认颜色值，每行也指定了background-color属性。我们可以在tr嵌套中使用&#38;来引用tr，以提供even颜色。</p>
    <pre>stripe(even = #fff, odd = #eee)
 tr
   background-color odd
   &#38;.even
   &#38;:nth-child(even)
       background-color even</pre>
    <p>然后，利用混合书写，如下：</p>
    <pre>table
  stripe()
  td
    padding 4px 10px

table#users
  stripe(#303030, #494848)
  td
    color white</pre>
    <p>另外，stripe()的定义无需父引用：</p>
    <pre>stripe(even = #fff, odd = #eee)
  tr
    background-color odd
  tr.even
  tr:nth-child(even)
    background-color even</pre>
    <p>如果你愿意，你可以把stripe()当作属性调用。</p>
    <pre>stripe #fff #000</pre>
    <h2>混合书写中的混合书写</h2>
    <p>自然，混合书写可以利用其它混合书写，建立在它们自己的属性和选择器上。</p>
    <p>例如，下面我们创建内联<code>comma-list()</code>（通过<code>inline-list()</code>）以及逗号分隔的无序列表。</p>
    <pre>inline-list()
  li
    display inline

comma-list()
  inline-list()
  li
    &#38;:after
      content ', '
    &#38;:last-child:after
      content ''

ul
  comma-list()</pre>
    <p>编译结果：</p>
    <pre>ul li:after {
  content: ", ";
}
ul li:last-child:after {
  content: "";
}
ul li {
  display: inline;
}</pre>
   </div>
   <div id="footer">
    <div class="f_box">
     <p class="legal-license"> This site is built with &lt;3 using Pure v0.2.1 </p>
     <p class="legal-license"> All code on this site is licensed under the <a href="http://yuilibrary.com/license/">BSD License</a> unless stated otherwise. </p>
    </div>
    <div class="s_box">
     <a href="http://yuilibrary.com/"> <img width="65" height="30" alt="logo" src="/img/logo-footer.png" /> </a>
    </div>
    <div class="t_box">
     <ul class="legal-links pure-g">
      <li class="pure"> <a href="https://github.com/yui/pure/">GitHub Project</a> </li>
      <li class="pure"> <a href="http://yuilibrary.com/security/">Security Contact Info</a> </li>
     </ul>
     <p class="legal-copyright"> &copy; 2013 Yahoo! Inc. All rights reserved. </p>
    </div>
   </div>
</div>
  <script>
    var navigation = responsiveNav("#nav", {customToggle: "#toggle"});
  </script>
 </body>
</html>