<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <title>继承(@extend)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/normalize.css" />
  <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="js/responsive-nav.js"></script>
  <script>
    var doc = document, docEl = doc.documentElement;
    docEl.className = docEl.className.replace(/(^|\s)no-js(\s|$)/, " js ");
  </script>
 </head>
 <body>
  <div role="navigation" id="nav">
   <ul>
    <li><a href="index.html">stylus</a></li>
    <li><a href="Selectors.html">选择器</a></li>
    <li><a href="Variables.html">变量</a></li>
    <li><a href="Interpolation.html">插值</a></li>
    <li><a href="Operators.html">运算符</a></li>
    <li><a href="Mixins.html">混合书写</a></li>
    <li><a href="Functions.html">方法</a></li>
    <li><a href="KeywordArguments.html">关键字参数</a></li>
    <li><a href="Built-in_Functions.html">内置方法</a></li>
    <li><a href="RestParams.html">其余参数</a></li>
    <li><a href="Comments.html">注释</a></li>
    <li><a href="Conditionals.html">条件</a></li>
    <li><a href="Iteration.html.html">迭代</a></li>
    <li><a href="import.html">@import</a></li>
    <li><a href="media.html">@media</a></li>
    <li><a href="font-face.html">@font-face</a></li>
    <li><a href="keyframes.html">@keyframes</a></li>
    <li class="active"><a href="extend.html">@extend</a></li>
    <li><a href="url.html">url()</a></li>
    <li><a href="CSSLiteral.html">CSS字面量</a></li>
    <li><a href="CSSStyleSyntax.html">CSS样式解析</a></li>
    <li><a href="CharEscaping.html">字符转码</a></li>
    <li><a href="Executable.html">可执行性</a></li>
    <li><a href="ErrorReporting.html">错误报告</a></li>
    <li><a href="ConnectMiddleware.html">连接中间件</a></li>
    <li><a href="IntrospectionAPI.html">自检API</a></li>
    <li><a href="JavaScriptAPI.html">JavaScript API</a></li>
    <li><a href="http://github.com/visionmedia/nib">Nib下CSS扩展</a></li>
    <li><a href="http://learnboost.github.com/stylus/try.html">Stylus在线体验!</a></li>
   </ul>
  </div>
  <div class="main">
   <a href="#nav" id="toggle">Menu</a>
   <div id="content">
    <h1>继承(@extend)</h1>
    <h2>继承</h2>
    <p>Stylus的<code>@extend</code>指令受SASS实现的启发，基本一致，除了些轻微差异。此功能大大简化了继承其他语义规则集的语义规则集的维护。</p>
    <h2>混合书写下的“继承”</h2>
    <p>尽管你可以使用混写实现类似效果，但会导致重复的CSS. 典型的模式式定义如下的几个类名，然后归结到一个元素中，例如"warning message".</p>
    <p>该技术实现是没什么问题，但是维护就比较麻烦了。</p>
    <pre>message,
.warning {
  padding: 10px;
  border: 1px solid #eee;
}

.warning {
  color: #E2E21E;
}</pre>
    <h2>使用__@extend__</h2>
    <p>使用<code>__@extend__</code>得到同样的输出，只要把对应的选择器传给<code>@extend</code>即可。然后.warning选择器就会继承已经存在的<code>.message</code>规则。</p>
    <pre>.message {
  padding: 10px;
  border: 1px solid #eee;
}

.warning {
  @extend .message;
  color: #E2E21E;
}</pre>
    <p>这儿是个更复杂的例子，演示了<code>__@extend__</code>如何级联。</p>
    <pre>red = #E33E1E
yellow = #E2E21E

.message
  padding: 10px
  font: 14px Helvetica
  border: 1px solid #eee

.warning
  @extends .message
  border-color: yellow
  background: yellow + 70%

.error
  @extends .message
  border-color: red
  background: red + 70%

.fatal
  @extends .error
  font-weight: bold
  color: red</pre>
    <p>生成CSS如下：</p>
    <pre>.message,
.warning,
.error,
.fatal {
  padding: 10px;
  font: 14px Helvetica;
  border: 1px solid #eee;
}
.warning {
  border-color: #e2e21e;
  background: #f6f6bc;
}
.error,
.fatal {
  border-color: #e33e1e;
  background: #f7c5bc;
}
.fatal {
  font-weight: bold;
  color: #e33e1e;
}</pre>
    <p>目前Stylus与SASS不同之处在于SASS不允许<code>__@extend__</code>嵌套选择器。</p>
    <pre>form
  button
    padding: 10px

a.button
  @extend form button
Syntax error: Can't extend form button: can't extend nested selectors
// 解析错误： 无法继承自 button: 不能继承嵌套选择器
        on line 6 of standard input
  Use --trace for backtrace.</pre>
    <p>Stylus中，只要选择器匹配，就可以生效：</p>
    <pre>form
 input[type=text]
   padding: 5px
   border: 1px solid #eee
   color: #ddd

textarea
 @extends form input[type=text]
 padding: 10px</pre>
    <p>生成：</p>
    <pre>form input[type=text],
form textarea {
  padding: 5px;
  border: 1px solid #eee;
  color: #ddd;
}
textarea {
  padding: 10px;
}</pre>
   </div>
   <div id="footer">
    <div class="f_box">
     <p class="legal-license"> This site is built with &lt;3 using Pure v0.2.1 </p>
     <p class="legal-license"> All code on this site is licensed under the <a href="http://yuilibrary.com/license/">BSD License</a> unless stated otherwise. </p>
    </div>
    <div class="s_box">
     <a href="http://yuilibrary.com/"> <img width="65" height="30" alt="logo" src="/img/logo-footer.png" /> </a>
    </div>
    <div class="t_box">
     <ul class="legal-links pure-g">
      <li class="pure"> <a href="https://github.com/yui/pure/">GitHub Project</a> </li>
      <li class="pure"> <a href="http://yuilibrary.com/security/">Security Contact Info</a> </li>
     </ul>
     <p class="legal-copyright"> &copy; 2013 Yahoo! Inc. All rights reserved. </p>
    </div>
   </div>
</div>
  <script>
    var navigation = responsiveNav("#nav", {customToggle: "#toggle"});
  </script>
 </body>
</html>